<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Countdown 10s + ThÆ° NÄƒm Má»›i</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{
  font-family: Arial, sans-serif;
  background:linear-gradient(#0a0a2a,#2a0a0a);
  color:#fff;
  text-align:center;
  min-height:100vh;
  overflow:hidden;
}
#startScreen{
  position:fixed; inset:0;
  display:flex; justify-content:center; align-items:center;
  font-size:36px; font-weight:bold;
  background:#0a0a2a;
  cursor:pointer;
  z-index:20;
}
.wrapper{display:none; position:relative; z-index:5; padding-top:120px}
.countdown{
  display:inline-block;
  padding:20px 30px;
  border:2px solid #ff9fb5;
  border-radius:16px;
  background:rgba(255,255,255,0.1);
}
.time{font-size:48px;letter-spacing:4px}

#flash{position:fixed; inset:0; background:white; opacity:0; pointer-events:none;}
#flash.show{animation:flash .4s ease-out}
@keyframes flash{0%{opacity:1}100%{opacity:0}}
@keyframes shake{
  0%{transform:translate(0)}
  25%{transform:translate(-5px,3px)}
  50%{transform:translate(5px,-3px)}
  75%{transform:translate(-3px,2px)}
  100%{transform:translate(0)}
}
body.shake{animation:shake .4s}

canvas{position:fixed; inset:0; pointer-events:none}

#letter{
  position:fixed; inset:0;
  background:rgba(0,0,0,0.6);
  display:flex;
  justify-content:center;
  align-items:center;
  opacity:0;
  pointer-events:none;
  transition:1s;
  z-index:30;
}
#letter.show{opacity:1; pointer-events:auto}
.letter-paper{
  background:#fff;
  color:#333;
  padding:30px;
  border-radius:16px;
  max-width:420px;
  max-height:80vh;
  overflow-y:auto;
  text-align:left;
  line-height:1.6;
}
#letterImage{
  width:100%;
  margin-top:15px;
  border-radius:12px;
}
</style>
</head>
<body>

<div id="startScreen">Báº®T Äáº¦U</div>

<audio id="countdownMusic">
  <source src="countdown.mp3" type="audio/mpeg">
</audio>

<div id="flash"></div>
<canvas id="fireworks"></canvas>

<div class="wrapper">
  <div class="countdown">
    <div class="time" id="time">00 : 10</div>
  </div>
</div>

<div id="letter">
  <div class="letter-paper">
    <p><b>Cáº£m Æ¡n Nguyá»‡t Ä‘Ã£ Ä‘áº¿n bÃªn TÃ¢n nheee</b></p>

    <p>
      ğŸ† ChÃºc Nguyá»‡t nÄƒm má»›i sá»›m tÃ¬m Ä‘Æ°á»£c Ä‘iá»u báº£n thÃ¢n mÃ¬nh Ä‘am mÃª nhaaaa,
      Ä‘á»ƒ má»—i tá»‘i khÃ´ng cáº§n náº±m tráº±n trá»c suy nghÄ© ná»¯a =))))
    </p>

    <p>
      ğŸ† CÃ²n vá» tÃ¬nh yÃªu Ã­, TÃ¢n cÅ©ng khÃ´ng dÃ¡m há»©a háº¹n gÃ¬ nhiá»u Ä‘Ã¢u nhÆ°ng mÃ 
      TÃ¢n khÃ´ng muá»‘n Ä‘Ã¢y lÃ  mÃ³n quÃ  cuá»‘i cÃ¹ng cho Nguyá»‡t Ä‘ou,
      vÃ¬ cÃ²n ráº¥t nhiá»u idea bÃ¹ng lá»• hÆ¡n ná»¯a Ä‘áº¿i.
      Tui mÃ  Ä‘Ã£ muá»‘n cÃ³ danh cÃ³ pháº­n rÃ¹i thÃ¬ em khÃ´ng trÃ¡nh Ä‘Æ°á»£c Ä‘Ã¢u ğŸ˜ˆ
    </p>

    <p><b>TÃ³m láº¡i lÃ ,</b><br><b>Anh yÃªu em â¤ï¸</b></p>

    <p style="font-size:14px;opacity:.8">
      P/S: Táº¥m nÃ y cute nÃªn láº¥y.
      Nhma má»‘t 2 Ä‘á»©a pháº£i chá»¥p nhiá»u táº¥m khÃ¡c pro hÆ¡n nhaaaa ğŸ“·
    </p>

    <p style="text-align:right;margin-top:10px;">â€” TÃ¢n</p>

    <img id="letterImage" src="newyear.jpg" alt="áº¢nh ká»· niá»‡m">
  </div>
</div>

<script>
const startScreen=document.getElementById("startScreen");
const wrapper=document.querySelector(".wrapper");
const timeEl=document.getElementById("time");
const flash=document.getElementById("flash");
const letter=document.getElementById("letter");
const countdownMusic=document.getElementById("countdownMusic");

let timeLeft=10;
let ended=false;

startScreen.onclick=()=>{
  startScreen.style.display="none";
  wrapper.style.display="block";
  startCountdown();
}

function startCountdown(){
  const timer=setInterval(()=>{
    timeLeft--;
    timeEl.innerText=`00 : ${String(timeLeft).padStart(2,"0")}`;
    if(timeLeft<=0 && !ended){
      ended=true;
      clearInterval(timer);
      explode();
    }
  },1000);
}

function explode(){
  countdownMusic.play().catch(()=>{});
  flash.classList.add("show");
  document.body.classList.add("shake");
  setTimeout(()=>document.body.classList.remove("shake"),400);
  launchFireworks();
  setTimeout(()=>letter.classList.add("show"),3000);
}

// Fireworks
const canvas=document.getElementById("fireworks");
const ctx=canvas.getContext("2d");
canvas.width=innerWidth; canvas.height=innerHeight;
window.onresize=()=>{canvas.width=innerWidth; canvas.height=innerHeight;}
let sparks=[];
function launchFireworks(){
  setInterval(()=>{
    for(let i=0;i<40;i++){
      sparks.push({
        x:Math.random()*canvas.width,
        y:canvas.height,
        vx:(Math.random()-0.5)*6,
        vy:-Math.random()*8,
        life:80,
        alpha:1
      });
    }
  },400);
  animate();
}
function animate(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  for(let i=sparks.length-1;i>=0;i--){
    const s=sparks[i];
    s.x+=s.vx; s.y+=s.vy;
    s.alpha-=0.015; s.life--;
    if(s.life<=0){sparks.splice(i,1);continue;}
    ctx.fillStyle=`rgba(255,200,200,${s.alpha})`;
    ctx.beginPath(); ctx.arc(s.x,s.y,2,0,2*Math.PI); ctx.fill();
  }
  requestAnimationFrame(animate);
}
</script>

</body>
</html>
